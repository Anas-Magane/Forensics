 ما هي الثغرات (Vulnerabilities)؟
تخيل معي: أنت تعيش في بيت صغير وجميل.
في يوم من الأيام، لاحظت أن سقف المنزل فيه ثقوب صغيرة.
إذا لم تقم بإصلاح هذه الثقوب، فقد تسبب لك مشاكل كبيرة لاحقًا، مثل:

دخول ماء المطر وإفساد الأثاث.

تسرب الغبار والحشرات إلى الداخل.

🎯 هذه الثقوب تُعتبر نقطة ضعف في المنزل، وإذا لم تعالجها في الوقت المناسب، فقد تتحول إلى مشكلة خطيرة.

🔧 لما تقوم بإصلاح تلك الثقوب، فأنت تقوم بعملية تسمى Patching أي "سد الثغرات".

🧠 ماذا عن الأجهزة الرقمية؟
نفس الفكرة تنطبق على الأجهزة الرقمية (مثل الحواسيب والهواتف).
🔍 هذه الأجهزة قد تحتوي على ثغرات أمنية في:

البرمجيات (Software)

أو العتاد (Hardware)

🎯 هذه الثغرات هي نقاط ضعف يمكن للقراصنة (Hackers) استغلالها لاختراق النظام.

حتى لو بدت لك هذه الثغرات بسيطة (مثل الثقوب الصغيرة في السقف)، إلا أنها:

قد تُستخدم للهجوم على النظام،

وتُسبب أضرارًا كبيرة إذا لم تُكتشف في الوقت المناسب.

👀 الفرق هو أنك لا تستطيع رؤية هذه الثغرات الرقمية بسهولة مثل ثقوب السقف،
بل تحتاج إلى وقت وجهد وأدوات للكشف عنها.

🛠️ ما هي عملية الترقيع (Patching)؟
بعد أن تكتشف الثغرة، تبدأ مرحلة "الترقيع":

أي تطبيق إصلاحات (Fixes) تغلق بها هذه الثغرات.

الهدف منها هو حماية الجهاز والشبكة من الهجمات.

# 🔍 فحص الثغرات - Vulnerability Scanning

## 📌 ما هو فحص الثغرات؟

**فحص الثغرات** هو عملية تفتيش الأنظمة الرقمية (بحال السيرفرات، الشبكات، الأجهزة...) للبحث عن نقاط ضعف يمكن للمهاجمين استغلالها.

🎯 **علاش مهم؟**
- لأن الشركات كتحتوي على معلومات حساسة.
- الثغرات الأمنية ممكن تسبب في اختراق النظام.
- كاين قوانين كتلزم الشركات تدير الفحص بشكل منتظم (مرة كل 3 أشهر أو مرة فالسنة).

---

## 😵‍💫 علاش ميمكنش نفحصو يدويًا؟

- الفحص اليدوي كيتطلب وقت كبير.
- ممكن تتفلت منك ثغرات خطيرة.
- الشبكات الكبيرة كتخلي الفحص اليدوي بطيء وضعيف.

---

## 🤖 الفحص الأوتوماتيكي (Automated Vulnerability Scanning)

🎉 دابا كاينين أدوات ذكية كدير الفحص أوتوماتيكياً:

1. كتنصّب الأداة.
2. كتدخل ليها عنوان IP أو range ديال الشبكة.
3. كتبدأ تفحص الثغرات بلا تدخل يدوي.
4. كتخرجلك **تقرير مفصل** فيه كل الثغرات والمخاطر.

🛠️ من بعد، خاص المؤسسة تدير **Patching** باش تصلح المشكل.

---

## 🧩 أنواع الفحص

### ✅ Authenticated vs Unauthenticated

| نوع الفحص | Authenticated (ب credentials) | Unauthenticated (بلا credentials) |
|-----------|-------------------------------|----------------------------------|
| كيعتمد على | اسم المستخدم وكلمة السر | فقط عنوان IP |
| كيكشف | نقاط الضعف من داخل النظام | نقاط الضعف اللي باينة من برا |
| مفيد فاش | فحص إعدادات النظام والبرامج | فحص الواجهة العامة اللي باينة للعالم |
| مثال | فحص قاعدة بيانات داخلية | فحص موقع إلكتروني متاح للعموم |

---

### 🌐 Internal vs External

| نوع الفحص | Internal Scan (داخلي) | External Scan (خارجي) |
|-----------|------------------------|------------------------|
| منين كيتدار؟ | من داخل الشبكة | من خارج الشبكة |
| الهدف | كشف الثغرات اللي يمكن تستغل داخل المؤسسة | كشف الثغرات اللي يقدرو يشوفوها الهاكرز من برا |
| مثال | موظف داخلي يقدر يستغل ثغرة فالسيرفر | هاكر يهاجم موقع الشركة من الإنترنت |

---

## 💡 كيف تختار نوع الفحص المناسب؟

| الحالة | أفضل نوع فحص |
|--------|---------------|
| عندك شبكة داخلية وبغيتي تعرف واش فيها خطر | Authenticated + Internal |
| بغيتي تشوف شنو باين للهاكرز من الإنترنت | Unauthenticated + External |

---

## 🎯 أهداف التعلم الجاية

- نتعلم أدوات فحص الثغرات (بحال OpenVAS).
- نقوم بتجربة حقيقية على فحص شبكة.
- نشوف كيفاش نحلل التقرير ونسد الثغرات.



🧰 أدوات فحص الثغرات (Vulnerability Scanning Tools)
كاينين بزاف ديال الأدوات اللي كتستعمل باش تكشف الثغرات فالأجهزة والشبكات. كل أداة عندها مميزات خاصة بها.

هادي لمحة على أشهر وأهم الأدوات المستعملة:

🛠️ 1. Nessus
🔹 شنو هو؟

بدا كمشروع مفتوح المصدر فـ 1998،

وولات ملكية خاصة من بعد ما شراها Tenable فـ 2005.

🔹 مميزاته:
كيقدّم فحص شامل بزاف للثغرات.
كاين فـ نسختين: مجانية ومأجورة.
النسخة المجانية فيها ميزات محدودة.
النسخة المدفوعة كتدعم فحوصات متقدمة + دعم تقني.
خاصك تنصبو وتدير ليه الإدارة في السيرفر ديالك (On-Premise).

🌩️ 2. Qualys
🔹 شنو هو؟

خرج فـ 1999 كـ خدمة باشتراك (SaaS).

🔹 مميزاته:

فحص مستمر للثغرات + تحقق من الالتزام بالمعايير (compliance).
فيه حتى إدارة الأصول (Asset Management).
كيعطيك تنبيهات أوتوماتيكية وقت ما يلقى ثغرة.
كيخدم كامل فـ السحابة (Cloud) → ماكاين لا تنصيب لا صيانة!
📌 مثالي للشركات اللي بغاو حل بدون صداع البنية التحتية.

🔍 3. Nexpose (من شركة Rapid7)
🔹 شنو هو؟
خرج فـ 2005.

🔹 مميزاته:

كيكتاشف الأصول الجديدة (أجهزة، سيرفرات...) بشكل مستمر.
كيدير ليها فحص ثغرات.
كيعطي نقاط خطورة (Risk Score) حسب أهمية الجهاز وتأثير الثغرة.
كيدير حتى تقييم الامتثال للمعايير الأمنية.
كتقدر تنصبو محليًا ولا دير Hybrid (محلي + سحابي).

🧪 4. OpenVAS (Open Vulnerability Assessment System)
🔹 شنو هو؟

أداة مفتوحة المصدر من تطوير Greenbone Security.

🔹 مميزاته:

كيعتمد على قاعدة بيانات ديال الثغرات المعروفة.
ماشي بقوة Nessus ولا Qualys،
ولكن زوين للتعلم والتجارب الحقيقية.
مثالي للشركات الصغيرة أو الأفراد.

📌 فـ الدرس الجاي، غادي نطبقو OpenVAS عملياً ونشوفو كيفاش كيتستعمل.

📝 ملاحظات مهمة على الأدوات
كل أداة كتخرج تقرير مفصل من بعد الفحص:
فيه لائحة الثغرات المكتشفة
مستوى الخطورة
الشرح ديال كل وحدة
وبعض المرات كيكون حتى طريقة الإصلاح
🤔 كيفاش تختار الأداة المناسبة؟
🔍 حسب:

الحجم ديال الشبكة
الموارد لي عندك
واش بغيتي cloud ولا on-premise
العمق ديال الفحص لي محتاجو




# 🔐 CVE & CVSS - 

## 🎯 تخيل معايا:

تخيل راسك خدام فـ مكتب الشكايات ديال IT، وكتستقبل يوميًا مئات من الشكايات على مشاكل تقنية.  
باش تنظم الخدمة ديالك:

- كل شكاية كتدي **رقم فريد** → باش تتابعها وتعرف تطوراتها.
- وكل شكاية كتحتاج **تحديد الأولوية** حسب الخطورة ديالها.

فالعالم ديال الأمن المعلوماتي، عندنا نفس النظام:

- ✅ **CVE** = رقم تعريف ديال الثغرة
- 📊 **CVSS** = مقياس الخطورة ديالها

---

## 🆔 CVE (Common Vulnerabilities and Exposures)

CVE هو رقم كيتعطى لأي ثغرة أمنية تم اكتشافها.  
تم تطوير النظام من طرف **MITRE Corporation**، وكل CVE كيكون فريد.

### 🧾 الشكل ديال CVE:
```bash
CVE-2024-9374
```

- `CVE` = Prefix ثابت
- `2024` = العام اللي تكتشفت فيه
- `9374` = رقم تسلسلي عشوائي

### 🎯 الهدف ديال CVE:

- يخلي الباحثين، الشركات، والمطورين عارفين بالثغرات.
- يساعد فـ تسريع الحماية و"patching".

---

## 📊 CVSS (Common Vulnerability Scoring System)

CVSS كيعطي **نقطة من 0 حتى 10** لأي ثغرة باش نعرفو خطورتها.

### 🔍 العوامل اللي كتدخل فالحساب:

- واش الثغرة ساهلة الاستغلال؟
- شحال كتشكل من تهديد؟
- واش كتأثر على النظام كامل ولا غير جزء صغير؟
- واش الهاكر يقدر يستغلها عن بعد؟

---

## 📉 مستويات الخطورة حسب CVSS:

| Score        | Level          |
|--------------|----------------|
| 0.0 - 3.9    | 🔵 منخفض (Low)     |
| 4.0 - 6.9    | 🟡 متوسط (Medium)  |
| 7.0 - 8.9    | 🔴 عالي (High)     |
| 9.0 - 10     | 🚨 حرج (Critical)  |

---

## 🧠 خلاصة الفرق بين CVE و CVSS:

| العنصر   | CVE                         | CVSS                         |
|----------|-----------------------------|------------------------------|
| المعنى   | معرف للثغرة (رقم فريد)        | مقياس الخطورة                 |
| الشكل    | `CVE-YYYY-XXXX`             | رقم من `0` حتى `10`          |
| الهدف    | تتبع وتوثيق الثغرات         | تحديد الأولوية ومعرفة الخطر   |
| مثال     | `CVE-2024-12345`            | `9.8` ← Critical             |

---

## 📚 ملاحظات إضافية:

- CVE كتنشرهم قواعد بيانات بحال [cve.mitre.org](https://cve.mitre.org) و [nvd.nist.gov](https://nvd.nist.gov)
- كل ثغرة عندها وصف، تاريخ الاكتشاف، الشركات المعنية، والـ CVSS Score ديالها.

# 🧪 OpenVAS - فحص الثغرات باستعمال أداة مفتوحة المصدر

## ✅ ما هو OpenVAS؟

**OpenVAS (Open Vulnerability Assessment System)** هو ماسح للثغرات (Vulnerability Scanner) مفتوح المصدر، كيتستعمل باش تفحص الشبكات والأجهزة وتكشف نقاط الضعف الأمنية.

---

## 🐳 التثبيت باستعمال Docker

باش نسهل عملية التثبيت (حيت OpenVAS فيه بزاف ديال المتطلبات)، غادي نستعملو **Docker**.

### 🛠️ الخطوات:

1. أولاً، نثبت Docker فـ Ubuntu:

```bash
sudo apt install docker.io
```
من بعد، نشغل OpenVAS فـ حاوية Docker:

```bash
sudo docker run -d -p 443:443 --name openvas immauss/openvas
```
هاد الأمر كيستعمل صورة Docker فيها كلشي مجهز.

🌐 الوصول إلى واجهة OpenVAS
من بعد ما تسالي التثبيت،
🎯 افتح المتصفح وسير لـ:

```cpp
https://127.0.0.1
```
غادي توصلك لصفحة تسجيل الدخول ديال OpenVAS.
دخل المعلومات الصحيحة وغادي تشوف Dashboard فيه جميع الفحوصات.
🚦 إجراء فحص للثغرات
📌 الخطوات:
فـ الـ Dashboard، سير لـ:

```bash
Scans → Tasks
```
غادي تشوف صفحة خاوية (مافيهاش Tasks).
كليك على النجمة ومن بعد على New Task.

دخل اسم الفحص،
ومن بعد كليك على Scan Targets.

دخل:

اسم الجهاز (اختياري)
IP ديالو
ثم كليك على Create.
اختار نوع الفحص (Scan Config) المناسب،
وعاود كليك على Create.

رجع للـ Tasks،
وغادي تلقى Task جاهز، كليك على زر Play ▶️ فـ “Actions”.

🕒 الانتظار والنتائج
كيبقى الفحص شغال شوية دقائق.

منين يسالي، الحالة ديالو غادي تولي Done.
فـ الـ Dashboard غادي تبان لك أرقام تشير لعدد الثغرات.

🧾 عرض التفاصيل
كليك على اسم الفحص باش تشوف النتائج.
كليك على رقم عدد الثغرات باش تشوف القائمة كاملة.
كل ثغرة فيها:
الاسم
الخطورة (Low, Medium, High, Critical)
الوصف التقني

📤 تصدير النتائج
OpenVAS كيعطيك إمكانية تصدير النتائج ديال الفحص:
بصيغ متعددة (PDF، XML، HTML...)
مباشرة من لوحة المهام (Tasks Dashboard)

🧠 ملاحظات مهمة:
OpenVAS ممتاز للمبتدئين وحتى للخبراء.
واجهته رسومية وسهلة.
كيطلب موارد نسبياً، خصوصاً فحالات الشبكات الكبيرة.
